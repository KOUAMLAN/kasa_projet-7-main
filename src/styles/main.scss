// src/styles/main.scss

@use './abstracts/variables' as *;
@use './layout/header';
@use './layout/footer';
@use './components/card';
@use './pages/home';
@use './pages/about';

// ==== MODERN CSS RESET ====

// 1. Box-sizing et suppression des marges par défaut
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

// 2. Typo de base et fond
html, body, #root {
  font-family: 'Montserrat', Arial, Helvetica, sans-serif;
  background-color: $background;
  color: $text;
  width: 100vw;
  max-width: 100vw;
  min-width: 0;
  min-height: 100vh;
  overflow-x: hidden;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
}

// 3. Images, vidéos et médias responsives
img, picture, video, canvas, svg {
  display: block;
  max-width: 100%;
  height: auto;
}

// 4. Héritage de la police pour les formulaires
input, button, textarea, select {
  font: inherit;
}

// 5. Empêcher le texte de déborder
p, h1, h2, h3, h4, h5, h6 {
  overflow-wrap: break-word;
}

// 6. Créer un contexte d’empilement racine pour React
#root {
  isolation: isolate;
}

// ==== RESPONSIVE ANTI-SCROLL HORIZONTAL ====

// Sur mobile (<=600px), forcer tous les conteneurs à ne jamais déborder
@media (max-width: 600px) {
  .banner,
  .gallery,
  .card,
  .card-grid,
  .about,
  .accommodation-detail,
  .accommodation-collapses,
  main,
  section {
    width: 100% !important;
    max-width: 100vw !important;
    min-width: 0 !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    padding: 0 !important;
    box-sizing: border-box !important;
    overflow-x: hidden !important;
  }
}

// ==== OPTIONNEL : DEBUG VISUEL POUR REPÉRER LES DÉBORDEMENTS ====
// Ligne activée pour le debug :
* { outline: 1px solid red; }